/*! UIkit 3.16.3 | https://www.getuikit.com | (c) 2014 - 2023 YOOtheme | MIT License */(function(r,g){typeof exports=="object"&&typeof module<"u"?module.exports=g(require("uikit-util")):typeof define=="function"&&define.amd?define("uikitslideshow_parallax",["uikit-util"],g):(r=typeof globalThis<"u"?globalThis:r||self,r.UIkitSlideshow_parallax=g(r.UIkit.util))})(this,function(r){"use strict";var g={props:{media:Boolean},data:{media:!1},connected(){const n=z(this.media,this.$el);if(this.matchMedia=!0,n){this.mediaObj=window.matchMedia(n);const t=()=>{this.matchMedia=this.mediaObj.matches,r.trigger(this.$el,r.createEvent("mediachange",!1,!0,[this.mediaObj]))};this.offMediaObj=r.on(this.mediaObj,"change",()=>{t(),this.$emit("resize")}),t()}},disconnected(){var n;(n=this.offMediaObj)==null||n.call(this)}};function z(n,t){if(r.isString(n)){if(r.startsWith(n,"@"))n=r.toFloat(r.css(t,`--uk-breakpoint-${n.substr(1)}`));else if(isNaN(n))return n}return n&&r.isNumeric(n)?`(min-width: ${n}px)`:""}function E(n){return Math.ceil(Math.max(0,...r.$$("[stroke]",n).map(t=>{try{return t.getTotalLength()}catch{return 0}})))}const w={x:y,y,rotate:y,scale:y,color:v,backgroundColor:v,borderColor:v,blur:l,hue:l,fopacity:l,grayscale:l,invert:l,saturate:l,sepia:l,opacity:L,stroke:R,bgx:P,bgy:P},{keys:j}=Object;var q={mixins:[g],props:T(j(w),"list"),data:T(j(w),void 0),computed:{props(n,t){const e={};for(const s in n)s in w&&!r.isUndefined(n[s])&&(e[s]=n[s].slice());const o={};for(const s in e)o[s]=w[s](s,t,e[s],e);return o}},events:{load(){this.$emit()}},methods:{reset(){for(const n in this.getCss(0))r.css(this.$el,n,"")},getCss(n){const t={transform:"",filter:""};for(const e in this.props)this.props[e](t,n);return t.willChange=Object.keys(t).filter(e=>t[e]!=="").join(","),t}}};function y(n,t,e){let o=M(e)||{x:"px",y:"px",rotate:"deg"}[n]||"",s;return n==="x"||n==="y"?(n=`translate${r.ucfirst(n)}`,s=a=>r.toFloat(r.toFloat(a).toFixed(o==="px"?0:6))):n==="scale"&&(o="",s=a=>M([a])?r.toPx(a,"width",t,!0)/t.offsetWidth:a),e.length===1&&e.unshift(n==="scale"?1:0),e=m(e,s),(a,i)=>{a.transform+=` ${n}(${b(e,i)}${o})`}}function v(n,t,e){return e.length===1&&e.unshift(x(t,n,"")),e=m(e,o=>H(t,o)),(o,s)=>{const[a,i,c]=p(e,s),d=a.map((u,f)=>(u+=c*(i[f]-u),f===3?r.toFloat(u):parseInt(u,10))).join(",");o[n]=`rgba(${d})`}}function H(n,t){return x(n,"color",t).split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(r.toFloat)}function l(n,t,e){e.length===1&&e.unshift(0);const o=M(e)||{blur:"px",hue:"deg"}[n]||"%";return n={fopacity:"opacity",hue:"hue-rotate"}[n]||n,e=m(e),(s,a)=>{const i=b(e,a);s.filter+=` ${n}(${i+o})`}}function L(n,t,e){return e.length===1&&e.unshift(x(t,n,"")),e=m(e),(o,s)=>{o[n]=b(e,s)}}function R(n,t,e){e.length===1&&e.unshift(0);const o=M(e),s=E(t);return e=m(e.reverse(),a=>(a=r.toFloat(a),o==="%"?a*s/100:a)),e.some(([a])=>a)?(r.css(t,"strokeDasharray",s),(a,i)=>{a.strokeDashoffset=b(e,i)}):r.noop}function P(n,t,e,o){e.length===1&&e.unshift(0);const s=n==="bgy"?"height":"width";o[n]=m(e,c=>r.toPx(c,s,t));const a=["bgx","bgy"].filter(c=>c in o);if(a.length===2&&n==="bgx")return r.noop;if(x(t,"backgroundSize","")==="cover")return V(n,t,e,o);const i={};for(const c of a)i[c]=O(t,c);return S(a,i,o)}function V(n,t,e,o){const s=A(t);if(!s.width)return r.noop;const a={width:t.offsetWidth,height:t.offsetHeight},i=["bgx","bgy"].filter(f=>f in o),c={};for(const f of i){const h=o[f].map(([J])=>J),$=Math.min(...h),I=Math.max(...h),N=h.indexOf($)<h.indexOf(I),_=I-$;c[f]=`${(N?-_:0)-(N?$:I)}px`,a[f==="bgy"?"height":"width"]+=_}const d=r.Dimensions.cover(s,a);for(const f of i){const h=f==="bgy"?"height":"width",$=d[h]-a[h];c[f]=`max(${O(t,f)},-${$}px) + ${c[f]}`}const u=S(i,c,o);return(f,h)=>{u(f,h),f.backgroundSize=`${d.width}px ${d.height}px`,f.backgroundRepeat="no-repeat"}}function O(n,t){return x(n,`background-position-${t.substr(-1)}`,"")}function S(n,t,e){return function(o,s){for(const a of n){const i=b(e[a],s);o[`background-position-${a.substr(-1)}`]=`calc(${t[a]} + ${i}px)`}}}const F={};function A(n){const t=r.css(n,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(F[t])return F[t];const e=new Image;return t&&(e.src=t,!e.naturalWidth)?(e.onload=()=>{F[t]=C(e),r.trigger(n,r.createEvent("load",!1))},C(e)):F[t]=C(e)}function C(n){return{width:n.naturalWidth,height:n.naturalHeight}}function m(n,t=r.toFloat){const e=[],{length:o}=n;let s=0;for(let a=0;a<o;a++){let[i,c]=r.isString(n[a])?n[a].trim().split(" "):[n[a]];if(i=t(i),c=c?r.toFloat(c)/100:null,a===0?c===null?c=0:c&&e.push([i,0]):a===o-1&&(c===null?c=1:c!==1&&(e.push([i,c]),c=1)),e.push([i,c]),c===null)s++;else if(s){const d=e[a-s-1][1],u=(c-d)/(s+1);for(let f=s;f>0;f--)e[a-f][1]=d+u*(s-f+1);s=0}}return e}function p(n,t){const e=r.findIndex(n.slice(1),([,o])=>t<=o)+1;return[n[e-1][0],n[e][0],(t-n[e-1][1])/(n[e][1]-n[e-1][1])]}function b(n,t){const[e,o,s]=p(n,t);return r.isNumber(e)?e+Math.abs(e-o)*s*(e<o?1:-1):+o}const G=/^-?\d+(\S+)?/;function M(n,t){var e;for(const o of n){const s=(e=o.match)==null?void 0:e.call(o,G);if(s)return s[1]}return t}function x(n,t,e){const o=n.style[t],s=r.css(r.css(n,t,e),t);return n.style[t]=o,s}function T(n,t){return n.reduce((e,o)=>(e[o]=t,e),{})}var W={mixins:[q],data:{selItem:"!li"},beforeConnect(){this.item=r.query(this.selItem,this.$el)},disconnected(){this.item=null},events:[{name:"itemin itemout",self:!0,el(){return this.item},handler({type:n,detail:{percent:t,duration:e,timing:o,dir:s}}){r.fastdom.read(()=>{if(!this.matchMedia)return;const a=this.getCss(B(n,s,t)),i=this.getCss(D(n)?.5:s>0?1:0);r.fastdom.write(()=>{r.css(this.$el,a),r.Transition.start(this.$el,i,e,o).catch(r.noop)})})}},{name:"transitioncanceled transitionend",self:!0,el(){return this.item},handler(){r.Transition.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el(){return this.item},handler({type:n,detail:{percent:t,dir:e}}){r.fastdom.read(()=>{if(!this.matchMedia){this.reset();return}const o=this.getCss(B(n,e,t));r.fastdom.write(()=>r.css(this.$el,o))})}}]};function D(n){return r.endsWith(n,"in")}function B(n,t,e){return e/=2,D(n)^t<0?e:1-e}return typeof window<"u"&&window.UIkit&&window.UIkit.component("slideshowParallax",W),W});
